bss {
  message: .asciz "Hello, world!"
  .asciz "Not sure why you'd do this..."
  error: .asciz "I'm sorry, Dave, but I can't open the pod bay doors."
}

raw {
  factorial:
    ENT 0x0
    REL 0        ; both hex and decimal numbers supported
    LI
    BNZ recurse
    IMM 0x1
    RET
  recurse:
    REL 0x0
    LI
    PSH
    IMM 0x1
    SUB
    PUSHARG
    JSR factorial
    ADJ 0x1
    PSH
    REL 0x0
    LI
    MUL
    RET
    RET

  main:
    ENT 0x0
    IMM error
    PUSHARG
    INT 0x2      ; printstring()
    ADJ 0x1
    IMM 0x7
    PUSHARG
    JSR factorial
    ADJ 0x1
    PSH
    INT 0x1      ; printint()
    IMM 0x0
    RET
    RET
}
